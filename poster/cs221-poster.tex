% Template file for an a0 landscape poster.
% Written by Graeme, 2001-03 based on Norman's original microlensing
% poster.
%
% See discussion and documentation at
% <http://www.astro.gla.ac.uk/users/norman/docs/posters/> 
%
% $Id: poster-template-landscape.tex,v 1.2 2002/12/03 11:25:46 norman Exp $


% Default mode is landscape, which is what we want, however dvips and
% a0poster do not quite do the right thing, so we end up with text in
% landscape style (wide and short) down a portrait page (narrow and
% long). Printing this onto the a0 printer chops the right hand edge.
% However, 'psnup' can save the day, reorienting the text so that the
% poster prints lengthways down an a0 portrait bounding box.
%
% 'psnup -w85cm -h119cm -f poster_from_dvips.ps poster_in_landscape.ps'

\documentclass[a0]{a0poster}
% You might find the 'draft' option to a0 poster useful if you have
% lots of graphics, because they can take some time to process and
% display. (\documentclass[a0,draft]{a0poster})
\input defs
\pagestyle{empty}
\setcounter{secnumdepth}{0}
\renewcommand{\familydefault}{\sfdefault}
\newcommand{\QED}{~~\rule[-1pt]{8pt}{8pt}}\def\qed{\QED}

\renewcommand{\reals}{{\mbox{\bf R}}}

% The textpos package is necessary to position textblocks at arbitary 
% places on the page.
\usepackage[absolute]{textpos}

\usepackage{fleqn,psfrag,wrapfig,tikz,amsmath, framed, scrextend,subcaption}
\usepackage{mathtools,url}
\DeclarePairedDelimiterX{\norm}[1]{\lVert}{\rVert}{#1}

\usepackage[papersize={38in,28in}]{geometry}

% Graphics to include graphics. Times is nice on posters, but you
% might want to switch it off and go for CMR fonts.
\usepackage{graphics}

\renewenvironment{leftbar}[1][\hsize]
{% 
\def\FrameCommand 
{%

    {\color{black}\vrule width 0pt}%
    \hspace{0pt}%must no space.
    \fboxsep=\FrameSep\colorbox{white}%
}%
\MakeFramed{\hsize#1\advance\hsize-\width\FrameRestore}%
}
{\endMakeFramed}

% we are running pdflatex, so convert .eps files to .pdf
%\usepackage[pdftex]{graphicx}
%\usepackage{epstopdf}

% These colours are tried and tested for titles and headers. Don't
% over use color!
\usepackage{color}
\definecolor{Red}{rgb}{0.9,0.0,0.1}

\definecolor{bluegray}{rgb}{0.15,0.20,0.40}
\definecolor{bluegraylight}{rgb}{0.35,0.40,0.60}
\definecolor{gray}{rgb}{0.3,0.3,0.3}
\definecolor{lightgray}{rgb}{0.7,0.7,0.7}
\definecolor{darkblue}{rgb}{0.2,0.2,1.0}
\definecolor{darkgreen}{rgb}{0.0,0.5,0.3}

\renewcommand{\labelitemi}{\textcolor{bluegray}\textbullet}
\renewcommand{\labelitemii}{\textcolor{bluegray}{--}}

\setlength{\labelsep}{0.5em}


% see documentation for a0poster class for the size options here
\let\Textsize\normalsize
%\def\Head#1{\noindent\hbox to \hsize{\hfil{\LARGE\color{bluegray} #1}}\bigskip}
\def\Head#1{\noindent{\LARGE\color{bluegray} #1}\bigskip}
\def\LHead#1{\noindent{\LARGE\color{bluegray} #1}\bigskip}
\def\Subhead#1{\noindent{\large\color{bluegray} #1}\bigskip}
\def\Title#1{\noindent{\VeryHuge\color{Red} #1}}


% Set up the grid
%
% Note that [40mm,40mm] is the margin round the edge of the page --
% it is _not_ the grid size. That is always defined as 
% PAGE_WIDTH/HGRID and PAGE_HEIGHT/VGRID. In this case we use
% 23 x 12. This gives us three columns of width 7 boxes, with a gap of
% width 1 in between them. 12 vertical boxes is a good number to work
% with.
%
% Note however that texblocks can be positioned fractionally as well,
% so really any convenient grid size can be used.
%
\TPGrid[40mm,40mm]{23}{12}      % 3 cols of width 7, plus 2 gaps width 1

\parindent=0pt
\parskip=0.2\baselineskip

\begin{document}

% Understanding textblocks is the key to being able to do a poster in
% LaTeX. In
%
%    \begin{textblock}{wid}(x,y)
%    ...
%    \end{textblock}
%
% the first argument gives the block width in units of the grid
% cells specified above in \TPGrid; the second gives the (x,y)
% position on the grid, with the y axis pointing down.

% You will have to do a lot of previewing to get everything in the 
% right place.

% This gives good title positioning for a portrait poster.
% Watch out for hyphenation in titles - LaTeX will do it
% but it looks awful.
\begin{textblock}{23}(0,0)
\Title{Diabetes Prediction with Incomplete Patient Data}
\end{textblock}

\begin{textblock}{23}(0,0.6)
{
\LARGE
Hao Yi Ong,
Dennis Wang,
Xiao Song Mu
}

{
\Large
\color{bluegray}
\emph{CS 221 Aritificial Intelligence: Principles and Techniques Class Project}
}
\end{textblock}


% Uni logo in the top right corner. A&A in the bottom left. Gives a
% good visual balance, but you may want to change this depending upon
% the graphics that are in your poster.
%\begin{textblock}{2}(0,10)
%Your logo here
%%\includegraphics{/usr/local/share/images/AandA.epsf}
%\end{textblock}

%\begin{textblock}{2}(21.2,0)
%Another logo here
%%\resizebox{2\TPHorizModule}{!}{\includegraphics{/usr/local/share/images/GUVIu/GUVIu.eps}}
%\end{textblock}


\begin{textblock}{7.0}(0,1.5)

\hrule\medskip
\Head{Introduction}

\begin{itemize}
  
  \item Given a set of electronic health records, we want to have a smart predictor that prompts high-risk patients to obtain Type II Diabetes testing
  
  \item Traditional Kaggle Practice Fusion Diabetes Classification Challenge:
  \begin{itemize}
    \item Patients all have a standard database and a full medical record
    \item I.e., exact same tests taken, same variables recorded, etc.
  \end{itemize}

  \item In practice, however, records may be incomplete or wrong:
  \begin{itemize}
    \item Not everyone has taken the same tests and gotten regular checkups
    \item Database inconsistencies or errors in inputting data may exist
  \end{itemize}

  \item Predictor must be able to accurately classify based on incomplete or erroneous medical records to be useful

\end{itemize}


\medskip
\hrule\medskip
\Head{Diabetes Prediction}

Given
\begin{itemize}
  
  \item \emph{Training set} containing standardized, de-identified patient medical records

  \item \emph{Testing set} containing de-identified patient medical records with missing information and unknown erroneously recorded data

\end{itemize}

Learn
\begin{itemize}

  \item \emph{Bayesian network structure} encoding the conditional dependencies between medical record variables

  \item \emph{Bayesian network parameters} encoding the conditional probabilities for each variable

\end{itemize}

To minimize the error rate, including false positives and false negatives, on classifying whether a patient has Type II Diabetes

\medskip
\hrule\medskip
\Head{Evaluation Criteria}

\begin{itemize}
  
  \item \emph{Baseline} of logistic regression
  \begin{itemize}
    \item Feature vector with basic data including height, weight, body mass index...
    \item Cross validation with 10\%-hold-out on the training data
    \item Obtained a false positive rate of 0.7\% and false negative rate of 15.3\% for a total error rate of 16\% (84\% accuracy)
  \end{itemize}

  \item \emph{Oracle}
  \begin{itemize}
    \item Ideal oracle would be experienced physicians who have correctly advised patients to test for diabetes given their medical history
    \item Infeasible time-wise and financially for the scope of our project
    \item Use as surrogate measures the test accuracies of established diabetes tests vetted by the US Department of Health and Human Services
    \item Specifically, HBA1c, FPG, and OGTT, which have 85--95\% accuracy
  \end{itemize}

\end{itemize}

\end{textblock}

\begin{textblock}{7.0}(8,1.5)

\hrule\medskip
\Head{Problem Formulation}

The design variables for our truss optimization are:
\begin{itemize}
  
  \item \emph{Cross sectional areas} \(a \in \mathbf{R}^{m} \), where \(a_{i}\in \mathbf{R}\) is the area of the \(i^{th}\) bar

  \item \emph{Coordinates \(x \in \mathbf{R}^{2n} \)}, where \(x_{j}\in\mathbf{R}^{2}\) are the coordinates of the \(j^{th}\) node

\end{itemize}

Our problem data are:
\begin{itemize}
  
  \item \emph{Loading forces} \(F\in\mathbf{R}^{2n}\), where \(F_{j}\in\mathbf{R}^{2}\) is the load on the \(j^{th}\) node

  \item \emph{Material densities \(\rho_{1},\ldots,\rho_{m} \in \mathbf{R} \)} of bars

  \item \emph{Young's moduli \(E_{1},\ldots,E_{m} \in \mathbf{R} \)} characterizing the elasticities of the bars

  \item \emph{Bar lengths \(L_{1},\ldots,L_{m} \in \mathbf{R} \)}, which are dependent on node coordinates \(x\)

\end{itemize}

\begin{itemize}
  
  \item \emph{Force mapping matrix \(P(\mathcal{X})\in\mathbf{R}^{m\times2n}\)}, which relates loads \(F\) to the internal stresses experienced by the bars, \(f\in\mathbf{R}^m \); implicit in \(P\) is an adjacency matrix relating each bar to its attachment points

  \item \emph{Stiffness matrix \(K(\mathcal{X}, a, L)\)}, which determines the amount of flex in the truss
  \[K = \sum\limits_{i=1}^{m}\frac{E_{i}a_{i}}{L_{i}^{2}}p_{i}p_{i}^{T},\]
  where \( p_{1},\ldots,p_{m} \) are the columns of the force mapping matrix \(P\)

\end{itemize}

Our truss design optimization is further characterized by the following variables, whose relations contain all of the physics of the problem:
\begin{itemize}

  \item \emph{Node deflections} \(u\in\mathbf{R}^{2n}\) due to the truss flexing under loads \(F\), where \(u_{j}\in\mathbf{R}^{2}\) is the deflection of the \(j^{th}\) node; by Hooke's Law, we have the force balance \(F = Ku\)

  \item \emph{Internal stress \(f_{i}\in\mathbf{R}\)} experienced by each bar due to the node deflections
  \[f_{i} = -\frac{E_{i}a_{i}}{L_{i}^{2}}p_{i}^{T}u,\ \ \ i=1,\ldots,m\]

  \item \emph{Stored elastic energy} \(\Theta = \frac{1}{2}F^{T}u\), which we minimize in order to maximize the truss stiffness

\end{itemize}


\medskip

\hrule\medskip
\Head{An Alternating Convex Optimization Approach}

The minimization of \(\Theta\) in \( \left(a,x\right) \) that follows from our formulation above is non-convex. As a heuristic to solve the optimization problem, we first optimize over the bar sizes \(a\), and then over the node coordinates \(x\):

\begin{itemize}
\item We perform a linear change of coordinates to cast the bar sizing problem as a second-order cone program (SOCP) in \(w, v\in\mathbf{R}^{m}\):
  \[w_{i} + v_{i} = -\frac{1}{2}\left(u^{T}P\right)_{i}f_{i},\]
  \[w_{i} - v_{i} = a_{i}\]
  The value of \(w_{i} + v_{i}\) is therefore the spring energy stored in the \(i^{th}\) bar

\item Holding \(x\) constant, find the bar cross sectional areas \(a\) that minimize \(\Theta\):
{\small
  \begin{equation}
    \begin{array}{ll}
      \mbox{minimize}   & \Theta = 1^{T}\left(w+v\right)\\
      \mbox{subject to} & Pf + F = 0\\
                & M\left(w-v\right) \leq d\\
                & \norm[\bigg]{ \left( v_{i},\frac{L_{i}}{\sqrt{E_{i}}}f_{i} \right)}_{2}\leq w_{i},\ \ \ i = 1,\ldots,m \\
                    & 1^{T}\left( w - v \right) \leq W^{max}
    \end{array}
    \label{cvxopt1}
  \end{equation}
}
\item We then perform an affine change of coordinates to cast the node positioning problem as an SOCP in \(w, v\in\mathbf{R}^{m}\) (different from above):
  \[w_{i} + v_{i} = -\frac{1}{2}\left(u^{T}P\right)_{i}f_{i},\]
  \[w_{i} - v_{i} = \frac{2p_{i}^{T}y_{i}}{L_{i}} + 1\]
\end{itemize}
  
\end{textblock}
  
\begin{textblock}{7.0}(16,1.5)

\hrule
\medskip
(Cont'd)

\begin{itemize}

  \item Holding \(a\) constant, find a set of displacements \(y\in\mathbf{R}^{2n}\) that ``shift'' the node coordinates \(x\) from their original positions and minimize \(\Theta\):
  {\small
  \begin{equation}
    \begin{array}{ll}
      \mbox{minimize}   & \Theta = 1^{T}\left(w+v \right)\\
      \mbox{subject to} & Pf+F = 0\\
                        & \frac{1}{2}\left( \left( w_{i} - v_{i} \right) - 1 \right) = \frac{p_{i}^{T}y_{i}}{L_{i}},\ \ \ i = 1,\ldots,m\\
                        & \norm[\bigg]{ \left( v_{i},\frac{L_{i}}{\sqrt{E_{i}a_{i}}}f_{i} \right)}_{2}\leq w_{i},\ \ \ i = 1,\ldots,m\\
                        & \|y_{i}\|_{2} \leq \epsilon_{i},\ \ \ i = 1,\ldots,m\\
                            & g\left(y\right) = 0,
    \end{array}
    \label{cvxopt2}
  \end{equation}
  }
  where \(g(y) = 0 \) enforces truss symmetry, and \(\|y_{i}\|_{2} \leq\epsilon_{i}\) restrict node shifts.

\end{itemize}
  
In our heuristic, we first discretize the physical space as in traditional approaches to obtain \(\hat{\mathcal{D}}\), and alternate between solving \eqref{cvxopt1} and \eqref{cvxopt2} in each iteration:
\begin{addmargin}[2em]{0em}% 1em left, 2em right
  \begin{leftbar}
  {\small
    \begin{tabbing}
      {\bf given} \(\mathcal{X}^{\text{fixed}}\), \(\mathcal{F} \), $ \mathcal{\hat{D}} $ \\*[\smallskipamount]
      Generate set of node coordinates \(x^{0}\) from $\mathcal{\hat{D}} $, set \(x:=x^{0}\) \\*[\smallskipamount]
      {\bf repeat} \\
      \qquad \= 1.\ Given \(x\), obtain \(a\) and \(\Theta_{1} \) as the solution to and objective of \eqref{cvxopt1}\\
      \> 2.\ Given \(a\), obtain \(y\) and \(\Theta_{2}\) as the solution to and objective of \eqref{cvxopt2}, set \(x := x + y\) \\
      \> 3. {\bf break if} \(\Theta_{1}\) and \(\Theta_{2}\) converge \\*[\smallskipamount]
      {\bf return} \(a\), \(x\)
    \end{tabbing}
  }
  \end{leftbar}
\end{addmargin}
\medskip

\hrule\medskip
\Head{Example: Bridge Design}


This problem has 791 variables and 219 constraints. Out of several solvers, SCS was the fastest at 0.3 s per iteration (vs. 2.0 s with SeDuMi at comparable accuracy requirements). SCS's speed advantage scales with problem size (\url{~}100 times faster than SeDuMi with 16000 variables, 4000 constraints).
\medskip

\hrule\medskip
\Head{Conclusion}\\
Our alternating convex optimization approach presents a promising tool to solving the non-convex truss design problem. Future work should extend the model to 3-D and compare this approach to other existing methods.

\medskip

\hrule\medskip
\Head{Acknowledgments}\\
We thank Professor Liang and the instructor team, as well as fellow classmates for their help on our project.

\end{textblock}

\end{document}
